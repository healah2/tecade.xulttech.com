{% extends 'trainee/trainee_main.html' %}
{% load static %}
{% block title %}Index 2 Dashboard{% endblock %}

{% block extra_styles %}
<link rel="stylesheet" href="{% static 'bootstrap/css/bootstrap.min.css' %}">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
<link rel="stylesheet" href="{% static 'dist/css/AdminLTE.min.css' %}">
<link rel="stylesheet" href="{% static 'dist/css/skins/_all-skins.min.css' %}">
<link rel="stylesheet" href="{% static 'plugins/iCheck/flat/blue.css' %}">
<link rel="stylesheet" href="{% static 'plugins/morris/morris.css' %}">
<link rel="stylesheet" href="{% static 'plugins/jvectormap/jquery-jvectormap-1.2.2.css' %}">
<link rel="stylesheet" href="{% static 'plugins/datepicker/datepicker3.css' %}">
<link rel="stylesheet" href="{% static 'plugins/daterangepicker/daterangepicker-bs3.css' %}">
<link rel="stylesheet" href="{% static 'plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css' %}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/emoji-picker-element@1.13.0/dist/index.css" />
<style>
    .profile-user-img {
        width: 150px;
        height: 150px;
        object-fit: cover;
    }
</style>    
{% endblock %}
{{ block.super }}

{% block breadcrumb %}
  <li><a href="{% url 'trainee:trainee_dashboard' %}"><i class="fa fa-dashboard"></i> Dashboard</a></li>
  <li class="active">Trainee Profile</li>
{% endblock %}

{% block main_content %}
<div class="Profile-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header" style="background-color: #daf8cb;">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
        <h3>
            Trainee ID:
            <small> <strong>{{ trainee.trainee_number }}</strong></small>
        </h3>
       <h2> <p class="text-muted">User Profile {{ trainee.first_name }}
{{ trainee.last_name }}</p></h2>
          </div>
            </div>
        </div>

    </section>

    <!-- Main content -->
    <section class="content">

        <div class="row">
            <div class="col-md-3">

                <!-- Profile Image -->
                <div class="box box-primary">
                    <div class="box-body box-profile">
                        <img class="profile-user-img img-responsive img-circle" src="{{ trainee.passport_image.url }}"
                            alt="User profile picture">
                        <h3 class="profile-username text-center">
                            {{ trainee.first_name }} {{ trainee.middle_name }} {{ trainee.last_name }}
                        </h3>
                        <p class="text-muted text-center">{{ trainee.course.department }}</p>
                        <p class="text-muted text-center">{{ trainee.course }}</p>

                        <ul class="list-group list-group-unbordered">
                            <li class="list-group-item">
                                <b>Trainee Number</b> <a class="pull-right">{{ trainee.trainee_number }}</a>
                            </li>
                            <li class="list-group-item">
                                <b>Intake</b> <a class="pull-right">{{ trainee.date_of_admission|date:"yM"|upper }}</a>
                            </li>
                            <li class="list-group-item">
                                <b>Level</b> <a class="pull-right">{{ trainee.level }}</a>
                            </li>
                        </ul>

                        <!-- <a href=" url 'edit_trainee' trainee.id " class="btn btn-primary btn-block"><b>Edit -->
                                <!-- Profile</b></a> -->
                    </div>
                </div>

                <!-- Contact Info Box -->
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title">Contact Info</h3>
                    </div>
                    <div class="box-body">
                        <strong><i class="fa fa-phone margin-r-5"></i> Phone Number</strong>
                        <p class="text-muted">{{ trainee.phone }}</p>
                        <hr>

                        <strong><i class="fa fa-envelope margin-r-5"></i> Email Address</strong>
                        <p class="text-muted">{{ trainee.email }}</p>
                        <hr>

                        <strong><i class="fa fa-id-card margin-r-5"></i> ID Number</strong>
                        <p class="text-muted">{{ trainee.id_number }}</p>
                        <hr>

                        <strong><i class="fa fa-user margin-r-5"></i> Guardian's Phone</strong>
                        <p class="text-muted">{{ trainee.guardian_phone }}</p>
                    </div>
                </div>

            </div><!-- /.col -->
            <div class="col-md-9">
                <div class="nav-tabs-custom">
                    <ul class="nav nav-tabs">
                        <li class="active"><a href="#more_info" data-toggle="tab">More Information</a></li>
                    </ul>
                    <div class="tab-content">
                        <div class="active tab-pane" id="more_info">
                            <div class="box box-primary">
                                <div class="box-header with-border">
                                    <h3 class="box-title">Trainee Details</h3>
                                </div>
                                <div class="box-body table-responsive">
                                    <table class="table table-striped">
                                        <tr>
                                            <th>Gender</th>
                                            <td>{{ trainee.gender }}</td>
                                        </tr>
                                        <tr>
                                            <th>Age</th>
                                            <td>{{ trainee.age }}</td>
                                        </tr>
                                        <tr>
                                            <th>KCSE Index</th>
                                            <td>{{ trainee.kcse_index }}</td>
                                        </tr>
                                        <tr>
                                            <th>KCSE Grade</th>
                                            <td>{{ trainee.kcse_grade }}</td>
                                        </tr>
                                        <tr>
                                            <th>KCSE Year</th>
                                            <td>{{ trainee.kcse_year }}</td>
                                        </tr>
                                        <tr>
                                            <th>KCPE Index</th>
                                            <td>{{ trainee.kcpe_index }}</td>
                                        </tr>
                                        <tr>
                                            <th>KCPE Grade</th>
                                            <td>{{ trainee.kcpe_grade }}</td>
                                        </tr>
                                        <tr>
                                            <th>KCPE Year</th>
                                            <td>{{ trainee.kcpe_year }}</td>
                                        </tr>
                                        <tr>
                                            <th>County</th>
                                            <td>{{ trainee.county }}</td>
                                        </tr>
                                        <tr>
                                            <th>Sub-county</th>
                                            <td>{{ trainee.sub_county }}</td>
                                        </tr>
                                        <tr>
                                            <th>Division</th>
                                            <td>{{ trainee.division }}</td>
                                        </tr>
                                        <tr>
                                            <th>Location</th>
                                            <td>{{ trainee.location }}</td>
                                        </tr>
                                        <tr>
                                            <th>Guardian Name</th>
                                            <td>{{ trainee.guardian_name }}</td>
                                        </tr>
                                        <tr>
                                            <th>Guardian ID</th>
                                            <td>{{ trainee.guardian_id }}</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane" id="settings">
                            <form class="form-horizontal">
                                <div class="form-group">
                                    <label for="inputName" class="col-sm-2 control-label">Name</label>
                                    <div class="col-sm-10">
                                        <input type="email" class="form-control" id="inputName" placeholder="Name">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputEmail" class="col-sm-2 control-label">Email</label>
                                    <div class="col-sm-10">
                                        <input type="email" class="form-control" id="inputEmail" placeholder="Email">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputName" class="col-sm-2 control-label">Name</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="inputName" placeholder="Name">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputExperience" class="col-sm-2 control-label">Experience</label>
                                    <div class="col-sm-10">
                                        <textarea class="form-control" id="inputExperience"
                                            placeholder="Experience"></textarea>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputSkills" class="col-sm-2 control-label">Skills</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" id="inputSkills" placeholder="Skills">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-2 col-sm-10">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"> I agree to the <a href="#">terms and
                                                    conditions</a>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-offset-2 col-sm-10">
                                        <button type="submit" class="btn btn-danger">Submit</button>
                                    </div>
                                </div>
                            </form>
                        </div><!-- /.tab-pane -->
                    </div><!-- /.tab-content -->
                </div><!-- /.nav-tabs-custom -->
            </div><!-- /.col -->
        </div><!-- /.row -->

    </section><!-- /.content -->
</div><!-- /.content-wrapper -->

{% endblock %}

{% block extra_scripts %}
<!-- jQuery 2.1.4 -->
<script src="{% static 'plugins/jQuery/jQuery-2.1.4.min.js' %}"></script>

<!-- Bootstrap 3.3.5 -->
<script src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>

<!-- FastClick -->
<script src="{% static 'plugins/fastclick/fastclick.min.js' %}"></script>

<!-- AdminLTE App -->
<script src="{% static 'dist/js/app.min.js' %}"></script>

<!-- Sparkline -->
<script src="{% static 'plugins/sparkline/jquery.sparkline.min.js' %}"></script>

<!-- jvectormap -->
<script src="{% static 'plugins/jvectormap/jquery-jvectormap-1.2.2.min.js' %}"></script>
<script src="{% static 'plugins/jvectormap/jquery-jvectormap-world-mill-en.js' %}"></script>

<!-- SlimScroll 1.3.0 -->
<script src="{% static 'plugins/slimScroll/jquery.slimscroll.min.js' %}"></script>

<!-- ChartJS 1.0.1 -->
<script src="{% static 'plugins/chartjs/Chart.min.js' %}"></script>

<!-- AdminLTE dashboard demo (dashboard2.js) -->
<script src="{% static 'dist/js/pages/dashboard2.js' %}"></script>

<!-- AdminLTE for demo purposes -->
<script src="{% static 'dist/js/demo.js' %}"></script>

<script>
  $(document).ready(function () {
    $.getJSON("/api/recent-trainees/", function (data) {
      const list = $('#latest-trainees-list');
      list.empty();

      data.forEach(user => {
        const item = `
    <li>
      <img src="${user.image_url}" alt="User Image">
      <a class="users-list-name" href="/trainee/${user.trainee_number}/profile/">${user.name}</a>
      <span class="users-list-date">${user.date_label}</span>
    </li>
  `;
        list.append(item);
      });
    });
  });
</script>
{% endblock %}